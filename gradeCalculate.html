<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <!-- Bootstrap core CSS -->
    <link href="vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom fonts for this template -->
    <link href="vendor/fontawesome-free/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Varela+Round" rel="stylesheet">
    <link
        href="https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i"
        rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="css/grayscale.min.css" rel="stylesheet">
</head>
<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular.min.js"></script>
<script>

</script>
<script>
    var app = angular.module("myApp", []);
    app.controller("myCtrl", function ($scope) {
        $scope.studentArr = [];
        $scope.calculateGrade = function () {
            debugger
            var stdNamme = document.getElementById('studentName').value;
            var e = document.getElementById("selectedSubject");
            var subjectName = e.options[e.selectedIndex].value;
            var marks = document.getElementById('subjectName').value;
            //to calculate gpa and gpa point
            var gpa;
            var gpaPoint;
            switch (marks > 0) {
                case (marks >= 10 && marks < 20):
                    gpa = 0.8;
                    gpaPoint = "E"
                    break;
                case (marks >= 20 && marks < 30):
                    gpa = 1.2;
                    gpaPoint = "D"
                    break;
                case (marks >= 30 && marks < 40):
                    gpa = 1.6;
                    gpaPoint = "D+"
                    break;
                case (marks >= 40 && marks < 50):
                    gpa = 2.0;
                    gpaPoint = "C"
                    break;
                case (marks >= 50 && marks < 60):
                    gpa = 2.4;
                    gpaPoint = "C+"
                    break;
                case (marks >= 60 && marks < 70):
                    gpa = 2.8;
                    gpaPoint = "B"
                    break;
                case (marks >= 70 && marks < 80):
                    gpa = 3.2;
                    gpaPoint = "B+"
                    break;
                case (marks >= 80 && marks < 90):
                    gpa = 3.6;
                    gpaPoint = "A"
                    break;
                case (marks >= 90 && marks <= 100):
                    gpa = 4.0;
                    gpaPoint = "A"
                    break;
                default:
                    gpa = 0;
                    gpaPoint = "Not Valid"

            }
            var sObj = {
                'name': stdNamme,
                'marks': marks,
                'subjectName': subjectName,
                'gpa': gpa,
                'gpaPoint': gpaPoint
            }
            $scope.studentArr.push(sObj);
        }
    });
    var myApp = new function () {
        this.printTable = function () {
            var tab = document.getElementById('tab');
            // var win = window.open('', '', 'height=700,width=700');
            var win = window.open('', '', 'height=700,width=700');
            win.document.write(tab.outerHTML);
            win.document.close();
            win.print();
        }
    }
</script>


<body ng-app="myApp" ng-controller="myCtrl">
    <div class="container">
        <div class="card text-center" style="margin-top: 30px;">
            <div class="card-header">
                Grade Calculator
            </div>
            <div class="card-body">

                <div class="form-row align-items-center">
                    <div class="col-sm-3 my-1">
                        <label class="sr-only" for="inlineFormInputName">Name</label>
                        <input type="text" class="form-control" id="studentName" placeholder="Student Name">
                    </div>
                    <div class="col-sm-3 my-1">
                        <label class="sr-only" for="inlineFormInputGroupUsername">Username</label>
                        <select class="custom-select mr-sm-2" id="selectedSubject">
                            <option selected>Subbject Name</option>
                            <option value="English">English</option>
                            <option value="Nepali">Nepali</option>
                            <option value="Math">Math</option>
                            <option value="Science">Science</option>
                            <option value="Social">Social</option>
                            <!-- <option value="Health & Population">Health & Population</option> -->
                            <option value="Gk">Gk</option>
                            <option value="Grammmer">Grammner</option>
                            <option value="Nepali Grammer">Nepali Grammer</option>
                        </select>
                    </div>
                    <div class="col-sm-3 my-1">
                        <label class="sr-only" for="inlineFormInputName">Name</label>
                        <input type="number" min="5" max="100" class="form-control" id="subjectName" placeholder="Marks"
                            required>
                    </div>


                    <div class="col-auto my-1">
                        <button type="button" class="btn btn-primary" ng-click="calculateGrade()">Add</button>
                    </div>
                </div>

            </div>
            <div class="card-footer text-muted">
                2 days ago
            </div>

        </div>
        <div class="card text-center" style="margin-top: 30px;" id="tab">
            <div class="card-header">
                {{studentArr[0].name}}
            </div>
            <div class="card-body">
                <table class="table table-sm table-dark">
                    <thead>
                        <tr>
                            <th scope="col">Subject</th>
                            <th scope="col">Marks</th>
                            <th scope="col">GPA Point</th>
                            <th scope="col">GPA</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat="x in studentArr">
                            <th scope="row">{{x.subjectName}}</th>
                            <td>{{x.marks}}</td>
                            <td>{{x.gpaPoint}}</td>
                            <td>{{x.gpa}}</td>
                        </tr>

                    </tbody>
                </table>



            </div>
            <div class="card-footer text-muted">
                <button class="btn btn-primary" onclick="myApp.printTable()">Print</button>
            </div>

        </div>

    </div>

    <!-- Bootstrap core JavaScript -->
    <script src="vendor/jquery/jquery.min.js"></script>
    <script src="vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

    <!-- Plugin JavaScript -->
    <script src="vendor/jquery-easing/jquery.easing.min.js"></script>

    <!-- Custom scripts for this template -->
    <script src="js/grayscale.min.js"></script>
</body>

</html>
